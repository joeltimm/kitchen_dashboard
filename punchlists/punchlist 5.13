ğŸ” Current Status Summary
    âœ… Backend Found (functional):
    /backend/app.py â€“ main Flask entrypoint.

    /backend/calendar_widget.py â€“ handles Google Calendar event fetch/polling.

    /backend/onedrive_widget.py â€“ logic for displaying and rotating OneDrive photos.

    /backend/weather.py â€“ fetches and processes weather info.

    /backend/widget_profiles.py â€“ logic for saving widget sizes, profiles, and enabled states.

    /auth/credentials.py & onedrive_credentials.py â€“ refreshable credential loader for Google + Microsoft APIs.

âŒ Frontend HTML not found
    No templates/index.html or any HTML files are present in the archive. This is a gap that must be addressed, as Flask expects this.

ğŸ§  Application Goal Review
    Your project aims to be a modular, persistent smart kitchen dashboard, with:

        ğŸ“… Google Calendar events (real-time polling + caching)

        ğŸ•’ Clock widget (local timezone aware)

        ğŸŒ¦ï¸ Weather widget (via API)

        ğŸ–¼ï¸ Photo frame (via Microsoft OneDrive folder)

        ğŸ§© Resizable widgets with profile-based layouts

        ğŸ› ï¸ Full backend/frontend integration, auth, and widget config

        âš ï¸ Architectural Issues & Fixes Needed

Issue	Fix
    ModuleNotFoundError: common	Likely caused by PYTHONPATH or running from wrong root. Ensure you're starting Flask from the parent directory (kitchen_dashboard/) and common/ is sibling.
    app:app not found	Gunicorn assumes the app module is importable. Your service file should set WorkingDirectory=/home/joel/kitchen_dashboard/backend AND gunicorn command should use app:app. âœ…
    âŒ templates/index.html missing	Required for Flask to render root /. You must create this to bootstrap the frontend.
    Credentials file logic is inconsistent	Refactor to ensure all load_*_credentials() functions have the same structure, error handling, and logging style.
    Widget config isn't persisted between reloads	You're on the right path with widget_profiles.py, but need to back it with a JSON or SQLite store.
    No test coverage	Critical functions like fetch_events, get_random_photo, and load_credentials need unittest or pytest.

ğŸ”’ Security Gaps
    Never commit *.json credential tokens or client secret files to Git.

    Lock dependencies via requirements.txt and consider pip-audit.

    All OAuth tokens should use 600 permissions.

    If exposing externally (e.g., via nginx + loca.lt), ensure auth or IP allow-listing on admin routes.

âœ… Punch List â€“ Next Steps
ğŸ“ Structural
 Add templates/index.html for Flask frontend root.

 Create frontend/widgets/Photo.js, WidgetContainer.js, etc.

 Add .env loader in app.py via dotenv.

ğŸ“¦ Backend Enhancements
 Implement /save-profile, /load-profile, /widgets/on, /widgets/off Flask routes.

 Add JSON-based store for profiles.

 Use random.choice on photo URLs in OneDrive widget backend.

 Implement fallback photo in OneDrive widget if auth fails.

ğŸ§ª Testing
            Create tests/test_credentials.py, test_calendar.py, etc.

            Example:

            python
            Copy
            def test_calendar_credentials_loads():
                creds = load_calendar_credentials()
                assert creds.valid
            Use pytest:

            bash
            Copy
            pytest tests/
            ğŸš€ Suggestion: Dev vs Prod
            Your code would benefit from:

            bash
Copy
/joel/kitchen_dashboard/
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ app.py
â”‚   â””â”€â”€ ...
â”œâ”€â”€ frontend/
â”‚   â””â”€â”€ ...
â”œâ”€â”€ common/          

â”œâ”€â”€ templates/
â”‚   â””â”€â”€ index.html
â”œâ”€â”€ static/
â”‚   â””â”€â”€ styles.css
â”œâ”€â”€ .env
â”œâ”€â”€ tests/
â”‚   â””â”€â”€ test_calendar.py
Use a dev .env like:

ini
Copy
TZ=America/Chicago
FLASK_ENV=development
Would you like me to now:

ğŸ§ª Write full pytest tests for existing load_credentials, get_weather, get_random_photo?

ğŸ“„ Generate a index.html and frontend starter files?

ğŸ“¦ Write /save-profile and /load-profile Flask endpoints?

Add Pollen and Airquality from the google weather api?